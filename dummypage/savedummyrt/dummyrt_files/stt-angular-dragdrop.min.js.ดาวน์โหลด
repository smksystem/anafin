!function(e){function a(r){if(t[r])return t[r].exports;var n=t[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}var t={};return a.m=e,a.c=t,a.p="",a(0)}([function(e,a){!function(e,a,t,r){"use strict";var n=a.module("ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse","$q",function(n,i,l){this.draggableScope=null,this.droppableScope=null,t("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>'),this.callEventCallback=function(e,a,r,n,l){function o(a){var r=a.indexOf("(")!==-1?a.indexOf("("):a.length,n=a.lastIndexOf(")")!==-1?a.lastIndexOf(")"):a.length,l=a.substring(r+1,n),o=a.indexOf(".")!==-1?a.substr(0,a.indexOf(".")):null;return o=e[o]&&"function"==typeof e[o].constructor?o:null,{callback:a.substring(o&&o.length+1||0,r),args:t.map(l&&l.split(",")||[],function(a){return[i(a)(e)]}),constructor:o}}if(a){var d=o(a),s=d.callback,p=d.constructor,u=[r,n,l].concat(d.args);return(e[s]||e[p][s]).apply(e[s]?e:e[p],u)}},this.invokeDrop=function(e,t,n,i){var l,o,d="",s="",p={},u={},c=null,g={},b={},f=null,h=this.droppableScope,v=this.draggableScope;d=e.ngattr("ng-model"),s=t.ngattr("ng-model"),l=v.$eval(d),o=h.$eval(s),f=t.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"),u=h.$eval(t.attr("jqyoui-droppable")||t.attr("data-jqyoui-droppable"))||[],p=v.$eval(e.attr("jqyoui-draggable")||e.attr("data-jqyoui-draggable"))||[],p.index=this.fixIndex(v,p,l),u.index=this.fixIndex(h,u,o),c=a.isArray(l)?p.index:null,g=a.isArray(l)?l[c]:l,p.deepCopy&&(g=a.copy(g)),b=a.isArray(o)&&u&&u.index!==r?o[u.index]:a.isArray(o)?{}:o,u.deepCopy&&(b=a.copy(b)),g&&(this.mutateDraggable(v,u,p,d,s,b,e),this.mutateDroppable(h,u,p,s,g,c),this.callEventCallback(h,u.onDrop,n,i,g),a.bind(this,function(){this.restore(e)}))},this.move=function(a,t,n,i,l,o){if(0===a.length)return o&&e.setTimeout(function(){o()},300),!1;var d=a.css("z-index"),s=a[l.containment||"offset"](),p=t.css("display"),u=t.hasClass("ng-hide"),c=t.hasClass("angular-dragdrop-hide");null===n&&t.length>0&&((t.attr("jqyoui-draggable")||t.attr("data-jqyoui-draggable"))!==r&&t.ngattr("ng-model")!==r&&t.is(":visible")&&l&&l.multiple?(n=t[l.containment||"offset"](),l.stack===!1?n.left+=t.outerWidth(!0):n.top+=t.outerHeight(!0)):(u&&t.removeClass("ng-hide"),c&&t.removeClass("angular-dragdrop-hide"),n=t.css({visibility:"hidden",display:"block"})[l.containment||"offset"](),t.css({visibility:"",display:p}))),a.css({position:"absolute","z-index":9999}).css(s).animate(n,i,function(){u&&t.addClass("ng-hide"),c&&t.addClass("angular-dragdrop-hide"),a.css("z-index",d),o&&o()})},this.mutateDroppable=function(e,t,r,n,l,o){var d=e.$eval(n);e.dndDragItem=l,a.isArray(d)?(t&&t.index>=0?d[t.index]=l:d.push(l),r&&r.placeholder===!0&&(d[d.length-1].jqyoui_pos=o)):(i(n+" = dndDragItem")(e),r&&r.placeholder===!0&&(d.jqyoui_pos=o))},this.mutateDraggable=function(e,t,n,l,o,d,s){var p=a.equals(d,{})||!d,u=e.$eval(l);e.dndDropItem=d,n&&n.placeholder?"keep"!=n.placeholder&&(a.isArray(u)&&n.index!==r?u[n.index]=d:i(l+" = dndDropItem")(e)):a.isArray(u)?p?n&&n.placeholder!==!0&&"keep"!==n.placeholder&&u.splice(n.index,1):u[n.index]=d:(i(l+" = dndDropItem")(e),e.$parent&&i(l+" = dndDropItem")(e.$parent)),this.restore(s)},this.restore=function(e){e.css({"z-index":"",left:"",top:""})},this.fixIndex=function(e,t,n){if(t.applyFilter&&a.isArray(n)&&n.length>0){var i=e[t.applyFilter](),l=i[t.index],o=r;return n.forEach(function(e,t){a.equals(e,l)&&(o=t)}),o}return t.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(e){return{require:"?jqyouiDroppable",restrict:"A",link:function(i,l,o){var d,s,p,u,c=t(l),g=function(l,g){if(l){d=i.$eval(c.attr("jqyoui-draggable")||c.attr("data-jqyoui-draggable"))||{},s=i.$eval(o.jqyouiOptions)||{};var b;b=d.isClone?{disabled:!1,helper:"clone"}:{disabled:!1},c.draggable(b).draggable(s).draggable({start:function(r,l){e.draggableScope=i;var u=o.item,c=i.$eval(u);e.draggingItem=a.copy(c),p=t(s.helper?l.helper:this).css("z-index"),t(s.helper?l.helper:this).css("z-index",9999),n.startXY=t(this)[d.containment||"offset"](),e.callEventCallback(i,d.onStart,r,l,c)},stop:function(a,n){t(s.helper?n.helper:this).css("z-index",p),e.callEventCallback(i,d.onStop,a,n,e.draggingItem),e.draggingItem=r},drag:function(a,t){e.callEventCallback(i,d.onDrag,a,t)},cancel:".undraggable"})}else c.draggable({disabled:!0});u&&a.isDefined(l)&&(a.equals(o.drag,"true")||a.equals(o.drag,"false"))&&(u(),u=null)};u=i.$watch(function(){return i.$eval(o.drag)},g),g(),c.on("$destroy",function(){c.draggable({disabled:!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(e,r){return{restrict:"A",priority:1,link:function(r,n,i){var l,o,d,s=t(n),p=function(n,p){n?(l=r.$eval(t(s).attr("jqyoui-droppable")||t(s).attr("data-jqyoui-droppable"))||{},o=r.$eval(i.jqyouiOptions)||{},s.droppable({disabled:!1}).droppable(o).droppable({over:function(a,t){e.callEventCallback(r,l.onOver,a,t,e.draggingItem)},out:function(a,t){e.callEventCallback(r,l.onOut,a,t,e.draggingItem)},drop:function(a,n){return void(t(n.draggable).ngattr("ng-model")&&i.ngModel?(e.droppableScope=r,e.invokeDrop(t(n.draggable),t(this),a,n)):e.callEventCallback(r,l.onDrop,a,n))}})):s.droppable({disabled:!0}),d&&a.isDefined(n)&&(a.equals(i.drop,"true")||a.equals(i.drop,"false"))&&(d(),d=null)};d=r.$watch(function(){return r.$eval(i.drop)},p),p(),s.on("$destroy",function(){s.droppable({disabled:!0}).droppable("destroy")})}}}]);t.fn.ngattr=function(e,a){var t=this[0];return t.getAttribute(e)||t.getAttribute("data-"+e)}}(window,window.angular,window.jQuery)}]);